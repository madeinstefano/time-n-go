String.prototype.padLeft=function(c,a){var b=new RegExp(".{"+a+"}$"),d="";do{d+=c}while(d.length<a);return b.exec(d+this)[0]};Number.prototype.trunc=function(){return this|0};$(function(){$(window).bind("keydown keyup keypress",function(d){if(d.keyCode===65&&d.ctrlKey){return false}});$("body").append('<div id="tip-wrapper"><div id="tip-arrow-border"></div><div id="tip-arrow"></div><div id="tip-body"></div></div>');$("#tip-body").append('Thanks for using my stopwatch. Please visit my site:<a href="http://www.iceon.me" target="blank">iceon.me</a>');$(".digit").wrap('<div class="digit-wrapper" data-current="true"></div>');$(".digit-case").prepend('<div class="digit-wrapper" style="margin-top:-200px;"><span class="digit"></span></div>');$(".digit-case").prepend('<div class="pusher"></div>');$("#timeCheckContent").val("00:00.000");$("*").not("#timeCheckContent").disableSelection();function a(d,e){$(d).find(".digit").text(e)}function c(d,e,f){$(d).find(".digit").first().text(e);if(!$(d).find(":animated").size()){$(d).find(".pusher").animate({height:200},{duration:f||250,complete:function(){$(this).siblings("div[data-current=true]").remove();$(this).siblings(".digit-wrapper").css("margin-top","0px").attr("data-current","true");$(this).css("margin-top","-200px").html('<span class="digit"></span>').switchClass("pusher","digit-wrapper");$(this).parent().prepend('<div class="pusher"></div>');$(this).find("*").disableSelection()}})}}var b=(function(){var m={STARTED:1,STOPPED:0,RESETED:3},h=null,i=null,l=null,g=["0","0"],n=["0","0"],k=["0","0","0"],f=undefined,d=null;state=m.STOPPED;function j(){clearInterval(h);clearInterval(i);clearInterval(l);f=new Date().getTime()}function e(){document.title="00:00.000";if(!f){d=new Date().getTime()}else{d=d+(new Date().getTime()-f)}l=setInterval(function(){var r=(new Date().getTime()-d),s=(r/60000).trunc().toString().padLeft("0",2),q=((r/1000)-(s*60)).trunc().toString().padLeft("0",2),p=(r-(q*1000)-(s*60)).toString().padLeft("0",3);var o=[s,":",q,".",p].join("");$("#timeCheckContent").val(o);document.title=o},31);i=setInterval(function(){var o=(new Date().getTime()-d).toString().padLeft("0",3).split("");if(k[0]!==o[0]){a("#millisecond_1",o[0]);k[0]=o[0]}if(k[1]!==o[1]){a("#millisecond_2",o[1]);k[1]=o[1]}if(k[2]!==o[2]){a("#millisecond_3",o[2]);k[2]=o[2]}},31);h=setInterval(function(){var p=new Date().getTime()-d,q=((p/1000)-((p/60000).trunc()*60)).trunc().toString().padLeft("0",2).split(""),o=null;if(n[1]!==q[1]){c("#second_2",q[1]);n[1]=q[1];if(n[0]!==q[0]){o=(p/60000).trunc().toString().padLeft("0",2).split(""),c("#second_1",q[0]);n[0]=q[0];if(g[1]!==o[1]){c("#minute_2",o[1]);g[1]=o[1];if(g[0]!==o[0]){c("#minute_1",o[0]);g[0]=o[0]}}}}},201)}return{action:function(){if(state===m.STOPPED||state===m.RESETED){state=m.STARTED;e();$("#action").text("Stop")}else{state=m.STOPPED;j();$("#action").text("Start")}},reset:function(){if(state===m.RESETED){return}if(state===m.STARTED){j();$("#action").text("Start")}document.title="00:00.000";state=m.RESETED;h=null;i=null;g=["0","0"];n=["0","0"];k=["0","0","0"];f=undefined;d=null;$("#timeCheckContent").val("00:00.000");var o=setInterval(function(){if(!$("#dial :animated").size()){c("#minute_1",0);c("#minute_2",0);c("#second_1",0);c("#second_2",0);c("#millisecond_1",0);c("#millisecond_2",0);c("#millisecond_3",0);clearInterval(o)}},20)},}})();$("#action").bind("click",b.action);$("#reset").bind("click",b.reset)});